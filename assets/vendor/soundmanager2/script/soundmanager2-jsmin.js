!function(ut,dt){function t(t,x){function N(e){return P.preferFlash&&m&&!P.ignoreFlash&&P.flash[e]!==dt&&P.flash[e]}function e(n){return function(e){var t=this._s;return e=t&&t._a?n.call(this,e):(t&&t.id?P._wD(t.id+": Ignoring "+e.type):P._wD("HTML5::Ignoring "+e.type),null)}}this.setupOptions={url:t||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=x||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.altURL=this.movieURL=this.version=null,this.enabled=this.swfLoaded=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.didFlashBlock=this.muted=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var U,h,B,j,W,g,y,w,n,v,q,s,V,o,i,a,Q,K,$,G,f,J,r,X,l,z,Z,M,Y,ee,te,ne,oe,b,ie,p,ae,se,re,O,D,le,ue,de,ce,u,he,fe,d,pe,c,me,_e,ge,L,ye,m,we,ve,T,Me,be,Oe,De,Le,Te,Pe,P=this,Se=null,S=null,_=navigator.userAgent,Fe=ut.location.href.toString(),F=document,I=[],Ie=!0,He=!1,Ae=!1,H=!1,A=!1,Ee=!1,Re=0,ke=["log","info","warn","error"],Ce=null,xe=null,Ne=!1,Ue=!1,Be=0,je=null,E=[],R=null,We=Array.prototype.slice,k=!1,qe=0,Ve=_.match(/(ipad|iphone|ipod)/i),Qe=_.match(/android/i),C=_.match(/msie|trident/i),Ke=_.match(/webkit/i),$e=_.match(/safari/i)&&!_.match(/chrome/i),Ge=_.match(/opera/i),Je=_.match(/(mobile|pre\/|xoom)/i)||Ve||Qe,Xe=!Fe.match(/usehtml5audio/i)&&!Fe.match(/sm2-ignorebadua/i)&&$e&&!_.match(/silk/i)&&_.match(/OS\sX\s10_6_([3-7])/i),ze=ut.console!==dt&&console.log!==dt,Ze=F.hasFocus!==dt?F.hasFocus():null,Ye=$e&&(F.hasFocus===dt||!F.hasFocus()),et=!Ye,tt=/(mp3|mp4|mpa|m4a|m4b)/i,nt=F.location?F.location.protocol.match(/http/i):null,ot=nt?"":"//",it=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,at="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),st=new RegExp("\\.("+at.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!nt,pe=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"];try{Le=Audio!==dt&&(Ge&&opera!==dt&&opera.version()<10?new Audio(null):new Audio).canPlayType!==dt}catch(e){Le=!1}function rt(e){var t=(e=We.call(e)).length;return Te?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1),e}function lt(e,t){var n=e.shift(),t=[Pe[t]];Te?n[t](e[0],e[1]):n[t].apply(n,e)}this.hasHTML5=Le,this.setup=function(e){var t=!P.url;return e!==dt&&H&&R&&P.ok()&&(e.flashVersion!==dt||e.url!==dt||e.html5Test!==dt)&&O(b("setupLate")),q(e),k||(Je?P.setupOptions.ignoreMobileRestrictions&&!P.setupOptions.forceUseGlobalHTML5Audio||(E.push(f.globalHTML5),k=!0):P.setupOptions.forceUseGlobalHTML5Audio&&(E.push(f.globalHTML5),k=!0)),!De&&Je&&(P.setupOptions.ignoreMobileRestrictions?E.push(f.ignoreMobile):(P.setupOptions.useHTML5Audio&&!P.setupOptions.preferFlash||P._wD(f.mobileUA),P.setupOptions.useHTML5Audio=!0,P.setupOptions.preferFlash=!1,Ve?P.ignoreFlash=!0:(!Qe||_.match(/android\s2\.3/i))&&Qe||(P._wD(f.globalHTML5),k=!0))),e&&(t&&l&&e.url!==dt&&P.beginDelayedInit(),l||e.url===dt||"complete"!==F.readyState||setTimeout(r,1)),De=!0,P},this.supported=this.ok=function(){return R?H&&!A:P.useHTML5Audio&&P.hasHTML5},this.getMovie=function(e){return h(e)||F[e]||ut[e]},this.createSound=function(e,t){function n(){return o=se(o),P.sounds[o.id]=new U(o),P.soundIDs.push(o.id),P.sounds[o.id]}var o,i=null;if(i="soundManager.createSound(): "+b(H?"notOK":"notReady"),!H||!P.ok())return O(i),!1;if((o=v(e=t!==dt?{id:e,url:t}:e)).url=ce(o.url),o.id===dt&&(o.id=P.setupOptions.idPrefix+qe++),o.id.toString().charAt(0).match(/^[0-9]$/)&&P._wD("soundManager.createSound(): "+b("badID",o.id),2),P._wD("soundManager.createSound(): "+o.id+(o.url?" ("+o.url+")":""),1),D(o.id,!0))return P._wD("soundManager.createSound(): "+o.id+" exists",1),P.sounds[o.id];if(fe(o))i=n(),P.html5Only||P._wD(o.id+": Using HTML5"),i._setup_html5(o);else{if(P.html5Only)return P._wD(o.id+": No HTML5 support for this sound, and no Flash. Exiting."),n();if(P.html5.usingFlash&&o.url&&o.url.match(/data:/i))return P._wD(o.id+": data: URIs not supported via Flash. Exiting."),n();8<g&&(null===o.isMovieStar&&(o.isMovieStar=!!(o.serverURL||o.type&&o.type.match(it)||o.url&&o.url.match(st))),o.isMovieStar)&&(P._wD("soundManager.createSound(): using MovieStar handling"),1<o.loops)&&w("noNSLoop"),o=re(o,"soundManager.createSound(): "),i=n(),8===g?S._createSound(o.id,o.loops||1,o.usePolicyFile):(S._createSound(o.id,o.url,o.usePeakData,o.useWaveformData,o.useEQData,o.isMovieStar,!!o.isMovieStar&&o.bufferTime,o.loops||1,o.serverURL,o.duration||null,o.autoPlay,!0,o.autoLoad,o.usePolicyFile),o.serverURL||(i.connected=!0,o.onconnect&&o.onconnect.apply(i))),o.serverURL||!o.autoLoad&&!o.autoPlay||i.load(o)}return!o.serverURL&&o.autoPlay&&i.play(),i},this.destroySound=function(e,t){if(!D(e))return!1;var n,o=P.sounds[e];for(o.stop(),o._iO={},o.unload(),n=0;n<P.soundIDs.length;n++)if(P.soundIDs[n]===e){P.soundIDs.splice(n,1);break}return t||o.destruct(!0),delete P.sounds[e],!0},this.load=function(e,t){return!!D(e)&&P.sounds[e].load(t)},this.unload=function(e){return!!D(e)&&P.sounds[e].unload()},this.onposition=this.onPosition=function(e,t,n,o){return!!D(e)&&P.sounds[e].onposition(t,n,o)},this.clearOnPosition=function(e,t,n){return!!D(e)&&P.sounds[e].clearOnPosition(t,n)},this.start=this.play=function(e,t){var n=null,o=t&&!(t instanceof Object);if(!H||!P.ok())return O("soundManager.play(): "+b(H?"notOK":"notReady")),!1;if(D(e,o))o&&(t={url:t});else{if(!o)return!1;(t=o?{url:t}:t)&&t.url&&(P._wD('soundManager.play(): Attempting to create "'+e+'"',1),t.id=e,n=P.createSound(t).play())}return n=null===n?P.sounds[e].play(t):n},this.setPlaybackRate=function(e,t,n){return!!D(e)&&P.sounds[e].setPlaybackRate(t,n)},this.setPosition=function(e,t){return!!D(e)&&P.sounds[e].setPosition(t)},this.stop=function(e){return!!D(e)&&(P._wD("soundManager.stop("+e+")",1),P.sounds[e].stop())},this.stopAll=function(){for(var e in P._wD("soundManager.stopAll()",1),P.sounds)P.sounds.hasOwnProperty(e)&&P.sounds[e].stop()},this.pause=function(e){return!!D(e)&&P.sounds[e].pause()},this.pauseAll=function(){for(var e=P.soundIDs.length-1;0<=e;e--)P.sounds[P.soundIDs[e]].pause()},this.resume=function(e){return!!D(e)&&P.sounds[e].resume()},this.resumeAll=function(){for(var e=P.soundIDs.length-1;0<=e;e--)P.sounds[P.soundIDs[e]].resume()},this.togglePause=function(e){return!!D(e)&&P.sounds[e].togglePause()},this.setPan=function(e,t){return!!D(e)&&P.sounds[e].setPan(t)},this.setVolume=function(e,t){var n,o;if(e===dt||isNaN(e)||t!==dt)return!!D(e)&&P.sounds[e].setVolume(t);for(n=0,o=P.soundIDs.length;n<o;n++)P.sounds[P.soundIDs[n]].setVolume(e);return!1},this.mute=function(e){var t=0;if(e=e instanceof String?null:e)return!!D(e)&&(P._wD('soundManager.mute(): Muting "'+e+'"'),P.sounds[e].mute());for(P._wD("soundManager.mute(): Muting all sounds"),t=P.soundIDs.length-1;0<=t;t--)P.sounds[P.soundIDs[t]].mute();return P.muted=!0},this.muteAll=function(){P.mute()},this.unmute=function(e){if(e=e instanceof String?null:e)return!!D(e)&&(P._wD('soundManager.unmute(): Unmuting "'+e+'"'),P.sounds[e].unmute());for(P._wD("soundManager.unmute(): Unmuting all sounds"),e=P.soundIDs.length-1;0<=e;e--)P.sounds[P.soundIDs[e]].unmute();return!(P.muted=!1)},this.unmuteAll=function(){P.unmute()},this.toggleMute=function(e){return!!D(e)&&P.sounds[e].toggleMute()},this.getMemoryUse=function(){var e=0;return e=S&&8!==g?parseInt(S._getMemoryUse(),10):e},this.disable=function(e){var t;if(e===dt&&(e=!1),A)return!1;for(A=!0,w("shutdown",1),t=P.soundIDs.length-1;0<=t;t--)te(P.sounds[P.soundIDs[t]]);return te(P),n(e),L.remove(ut,"load",i),!0},this.canPlayMIME=function(e){var t;return t=!(t=P.hasHTML5?d({type:e}):t)&&R?e&&P.ok()?!!(8<g&&e.match(it)||e.match(P.mimePattern)):null:t},this.canPlayURL=function(e){var t;return t=!(t=P.hasHTML5?d({url:e}):t)&&R?e&&P.ok()?!!e.match(P.filePattern):null:t},this.canPlayLink=function(e){return!(e.type===dt||!e.type||!P.canPlayMIME(e.type))||P.canPlayURL(e.href)},this.getSoundById=function(e,t){var n;return e?((n=P.sounds[e])||t||P._wD('soundManager.getSoundById(): Sound "'+e+'" not found.',2),n):null},this.onready=function(e,t){if("function"!=typeof e)throw b("needFunction","onready");return H&&P._wD(b("queue","onready")),V("onready",e,t=t||ut),o(),!0},this.ontimeout=function(e,t){if("function"!=typeof e)throw b("needFunction","ontimeout");return H&&P._wD(b("queue","ontimeout")),V("ontimeout",e,t=t||ut),o({type:"ontimeout"}),!0},this._writeDebug=function(e,t){var n,o;if(!P.setupOptions.debugMode)return!1;if(!(ze&&P.useConsole&&(t&&"object"==typeof t?console.log(e,t):ke[t]!==dt?console[ke[t]](e):console.log(e),P.consoleOnly))){if(!(n=h("soundmanager-debug")))return!1;o=F.createElement("div"),0==++Re%2&&(o.className="sm2-alt"),t=t===dt?0:parseInt(t,10),o.appendChild(F.createTextNode(e)),t&&(2<=t&&(o.style.fontWeight="bold"),3===t)&&(o.style.color="#ff3333"),n.insertBefore(o,n.firstChild)}return!0},-1!==Fe.indexOf("sm2-debug=alert")&&(this._writeDebug=function(e){ut.alert(e)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(w("currentObj",1),e=0,t=P.soundIDs.length;e<t;e++)P.sounds[P.soundIDs[e]]._debug()},this.reboot=function(e,t){var n,o,i;for(P.soundIDs.length&&P._wD("Destroying "+P.soundIDs.length+" SMSound object"+(1!==P.soundIDs.length?"s":"")+"..."),n=P.soundIDs.length-1;0<=n;n--)P.sounds[P.soundIDs[n]].destruct();if(S)try{C&&(xe=S.innerHTML),Ce=S.parentNode.removeChild(S)}catch(e){w("badRemove",2)}if(xe=Ce=R=S=null,P.enabled=l=H=Ne=Ue=He=Ae=A=k=P.swfLoaded=!1,P.soundIDs=[],P.sounds={},qe=0,De=!1,e)I=[];else for(n in I)if(I.hasOwnProperty(n))for(o=0,i=I[n].length;o<i;o++)I[n][o].fired=!1;return t||P._wD("soundManager: Rebooting..."),P.html5={usingFlash:null},P.flash={},P.html5Only=!1,P.ignoreFlash=!1,ut.setTimeout(function(){t||P.beginDelayedInit()},20),P},this.reset=function(){return w("reset"),P.reboot(!0,!0)},this.getMoviePercent=function(){return S&&"PercentLoaded"in S?S.PercentLoaded():null},this.beginDelayedInit=function(){Ee=!0,r(),setTimeout(function(){return!Ue&&(Z(),J(),Ue=!0)},20),a()},this.destruct=function(){P._wD("soundManager.destruct()"),P.disable(!0)},U=function(e){var i,a,s,t,n,r,l,o,u,d,c=this,h=!1,f=[],p=0,m=null,_=i=null;this.sID=this.id=e.id,this.url=e.url,this._iO=this.instanceOptions=this.options=v(e),this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,d=!this.url,this.id3={},this._debug=function(){P._wD(c.id+": Merged options:",c.options)},this.load=function(e){var t;if(e!==dt?c._iO=v(e,c.options):(e=c.options,c._iO=e,m&&m!==c.url&&(w("manURL"),c._iO.url=c.url,c.url=null)),c._iO.url||(c._iO.url=c.url),c._iO.url=ce(c._iO.url),t=c.instanceOptions=c._iO,P._wD(c.id+": load ("+t.url+")"),t.url||c.url)if(c.isHTML5||8!==g||c.url||t.autoPlay||P._wD(c.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),t.url===c.url&&0!==c.readyState&&2!==c.readyState)w("onURL",1),3===c.readyState&&t.onload&&Oe(c,function(){t.onload.apply(c,[!!c.duration])});else{if(c.loaded=!1,c.readyState=1,c.playState=0,c.id3={},fe(t))c._setup_html5(t)._called_load?P._wD(c.id+": Ignoring request to load again"):(c._html5_canplay=!1,c.url!==t.url&&(P._wD(w("manURL")+": "+t.url),c._a.src=t.url,c.setPosition(0)),c._a.autobuffer="auto",c._a.preload="auto",c._a._called_load=!0);else{if(P.html5Only)return P._wD(c.id+": No flash support. Exiting."),c;if(c._iO.url&&c._iO.url.match(/data:/i))return P._wD(c.id+": data: URIs not supported via Flash. Exiting."),c;try{c.isHTML5=!1,c._iO=re(se(t)),c._iO.autoPlay&&(c._iO.position||c._iO.from)&&(P._wD(c.id+": Disabling autoPlay because of non-zero offset case"),c._iO.autoPlay=!1),t=c._iO,8===g?S._load(c.id,t.url,t.stream,t.autoPlay,t.usePolicyFile):S._load(c.id,t.url,!!t.stream,!!t.autoPlay,t.loops||1,!!t.autoLoad,t.usePolicyFile)}catch(e){w("smError",2),y("onload",!1),M({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}c.url=t.url}else P._wD(c.id+": load(): url is unassigned. Exiting.",2);return c},this.unload=function(){return 0!==c.readyState&&(P._wD(c.id+": unload()"),c.isHTML5?(n(),c._a&&(c._a.pause(),m=me(c._a))):8===g?S._unload(c.id,"about:blank"):S._unload(c.id),a()),c},this.destruct=function(e){P._wD(c.id+": Destruct"),c.isHTML5?(n(),c._a&&(c._a.pause(),me(c._a),k||t(),c._a._s=null,c._a=null)):(c._iO.onfailure=null,S._destroySound(c.id)),e||P.destroySound(c.id,!0)},this.start=this.play=function(e,t){var n,o,i,a=!0,s=c.id+": play(): ";if(t=t===dt||t,e=e||{},c.url&&(c._iO.url=c.url),c._iO=v(c._iO,c.options),c._iO=v(e,c._iO),c._iO.url=ce(c._iO.url),c.instanceOptions=c._iO,c.isHTML5||!c._iO.serverURL||c.connected){if(fe(c._iO)&&(c._setup_html5(c._iO),r()),1===c.playState&&!c.paused){if(!(a=c._iO.multiShot))return P._wD(s+"Already playing (one-shot)",1),c.isHTML5&&c.setPosition(c._iO.position),c;P._wD(s+"Already playing (multi-shot)",1)}if(e.url&&e.url!==c.url&&(c.readyState||c.isHTML5||8!==g||!d?c.load(c._iO):d=!1),c.loaded)P._wD(s.substr(0,s.lastIndexOf(":")));else if(0===c.readyState){if(P._wD(s+"Attempting to load"),c.isHTML5||P.html5Only){if(!c.isHTML5)return P._wD(s+"Unsupported type. Exiting."),c}else c._iO.autoPlay=!0;c.load(c._iO),c.instanceOptions=c._iO}else{if(2===c.readyState)return P._wD(s+"Could not load - exiting",2),c;P._wD(s+"Loading - attempting to play...")}!c.isHTML5&&9===g&&0<c.position&&c.position===c.duration&&(P._wD(s+"Sound at end, resetting to position: 0"),e.position=0),c.paused&&0<=c.position&&(!c._iO.serverURL||0<c.position)?(P._wD(s+"Resuming from paused state",1),c.resume()):(c._iO=v(e,c._iO),(!c.isHTML5&&null!==c._iO.position&&0<c._iO.position||null!==c._iO.from&&0<c._iO.from||null!==c._iO.to)&&0===c.instanceCount&&0===c.playState&&!c._iO.serverURL&&(a=function(){c._iO=v(e,c._iO),c.play(c._iO)},c.isHTML5&&!c._html5_canplay?(P._wD(s+"Beginning load for non-zero offset case"),c.load({_oncanplay:a})):c.isHTML5||c.loaded||c.readyState&&2===c.readyState||(P._wD(s+"Preloading for non-zero offset case"),c.load({onload:a})),c._iO=u()),(!c.instanceCount||c._iO.multiShotEvents||c.isHTML5&&c._iO.multiShot&&!k||!c.isHTML5&&8<g&&!c.getAutoPlay())&&c.instanceCount++,c._iO.onposition&&0===c.playState&&l(c),c.playState=1,c.paused=!1,c.position=c._iO.position===dt||isNaN(c._iO.position)?0:c._iO.position,c.isHTML5||(c._iO=re(se(c._iO))),c._iO.onplay&&t&&(c._iO.onplay.apply(c),h=!0),c.setVolume(c._iO.volume,!0),c.setPan(c._iO.pan,!0),1!==c._iO.playbackRate&&c.setPlaybackRate(c._iO.playbackRate),c.isHTML5?c.instanceCount<2?(r(),s=c._setup_html5(),c.setPosition(c._iO.position),s.play()):(P._wD(c.id+": Cloning Audio() for instance #"+c.instanceCount+"..."),n=new Audio(c._iO.url),o=function(){L.remove(n,"ended",o),c._onfinish(c),me(n),n=null},i=function(){L.remove(n,"canplay",i);try{n.currentTime=c._iO.position/1e3}catch(e){O(c.id+": multiShot play() failed to apply position of "+c._iO.position/1e3)}n.play()},L.add(n,"ended",o),c._iO.volume!==dt&&(n.volume=Math.max(0,Math.min(1,c._iO.volume/100))),c.muted&&(n.muted=!0),c._iO.position?L.add(n,"canplay",i):n.play()):(a=S._start(c.id,c._iO.loops||1,9===g?c.position:c.position/1e3,c._iO.multiShot||!1),9!==g||a||(P._wD(s+"No sound hardware, or 32-sound ceiling hit",2),c._iO.onplayerror&&c._iO.onplayerror.apply(c))))}else c.getAutoPlay()||(P._wD(s+" Netstream not connected yet - setting autoPlay"),c.setAutoPlay(!0));return c},this.stop=function(e){var t=c._iO;return 1===c.playState&&(P._wD(c.id+": stop()"),c._onbufferchange(0),c._resetOnPosition(0),c.paused=!1,c.isHTML5||(c.playState=0),o(),t.to&&c.clearOnPosition(t.to),c.isHTML5?c._a&&(e=c.position,c.setPosition(0),c.position=e,c._a.pause(),c.playState=0,c._onTimer(),n()):(S._stop(c.id,e),t.serverURL&&c.unload()),c.instanceCount=0,c._iO={},t.onstop)&&t.onstop.apply(c),c},this.setAutoPlay=function(e){P._wD(c.id+": Autoplay turned "+(e?"on":"off")),c._iO.autoPlay=e,c.isHTML5||(S._setAutoPlay(c.id,e),e&&!c.instanceCount&&1===c.readyState&&(c.instanceCount++,P._wD(c.id+": Incremented instance count to "+c.instanceCount)))},this.getAutoPlay=function(){return c._iO.autoPlay},this.setPlaybackRate=function(e){var t=Math.max(.5,Math.min(4,e));if(t!==e&&P._wD(c.id+": setPlaybackRate("+e+"): limiting rate to "+t,2),c.isHTML5)try{c._iO.playbackRate=t,c._a.playbackRate=t}catch(e){P._wD(c.id+": setPlaybackRate("+t+") failed: "+e.message,2)}return c},this.setPosition=function(t){t===dt&&(t=0);var e=c.isHTML5?Math.max(t,0):Math.min(c.duration||c._iO.duration,Math.max(t,0));if(c.position=e,t=c.position/1e3,c._resetOnPosition(c.position),c._iO.position=e,c.isHTML5){if(c._a){if(c._html5_canplay){if(c._a.currentTime.toFixed(3)!==t.toFixed(3)){P._wD(c.id+": setPosition("+t+")");try{c._a.currentTime=t,0!==c.playState&&!c.paused||c._a.pause()}catch(e){P._wD(c.id+": setPosition("+t+") failed: "+e.message,2)}}}else if(t)return P._wD(c.id+": setPosition("+t+"): Cannot seek yet, sound not ready",2),c;c.paused&&c._onTimer(!0)}}else t=9===g?c.position:t,c.readyState&&2!==c.readyState&&S._setPosition(c.id,t,c.paused||!c.playState,c._iO.multiShot);return c},this.pause=function(e){return c.paused||0===c.playState&&1!==c.readyState||(P._wD(c.id+": pause()"),c.paused=!0,c.isHTML5?(c._setup_html5().pause(),n()):!e&&e!==dt||S._pause(c.id,c._iO.multiShot),c._iO.onpause&&c._iO.onpause.apply(c)),c},this.resume=function(){var e=c._iO;return c.paused&&(P._wD(c.id+": resume()"),c.paused=!1,c.playState=1,c.isHTML5?(c._setup_html5().play(),r()):(e.isMovieStar&&!e.serverURL&&c.setPosition(c.position),S._pause(c.id,e.multiShot)),!h&&e.onplay?(e.onplay.apply(c),h=!0):e.onresume&&e.onresume.apply(c)),c},this.togglePause=function(){return P._wD(c.id+": togglePause()"),0===c.playState?c.play({position:9!==g||c.isHTML5?c.position/1e3:c.position}):c.paused?c.resume():c.pause(),c},this.setPan=function(e,t){return e===dt&&(e=0),t===dt&&(t=!1),c.isHTML5||S._setPan(c.id,e),c._iO.pan=e,t||(c.pan=e,c.options.pan=e),c},this.setVolume=function(e,t){return e===dt&&(e=100),t===dt&&(t=!1),c.isHTML5?c._a&&(P.muted&&!c.muted&&(c.muted=!0,c._a.muted=!0),c._a.volume=Math.max(0,Math.min(1,e/100))):S._setVolume(c.id,P.muted&&!c.muted||c.muted?0:e),c._iO.volume=e,t||(c.volume=e,c.options.volume=e),c},this.mute=function(){return c.muted=!0,c.isHTML5?c._a&&(c._a.muted=!0):S._setVolume(c.id,0),c},this.unmute=function(){c.muted=!1;var e=c._iO.volume!==dt;return c.isHTML5?c._a&&(c._a.muted=!1):S._setVolume(c.id,(e?c._iO:c.options).volume),c},this.toggleMute=function(){return c.muted?c.unmute():c.mute()},this.onposition=this.onPosition=function(e,t,n){return f.push({position:parseInt(e,10),method:t,scope:n!==dt?n:c,fired:!1}),c},this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),!isNaN(e))for(n=0;n<f.length;n++)e!==f[n].position||t&&t!==f[n].method||(f[n].fired&&p--,f.splice(n,1))},this._processOnPosition=function(){var e,t=f.length;if(!t||!c.playState||t<=p)return!1;for(--t;0<=t;t--)!(e=f[t]).fired&&c.position>=e.position&&(e.fired=!0,p++,e.method.apply(e.scope,[e.position]));return!0},this._resetOnPosition=function(e){var t,n=f.length;if(!n)return!1;for(--n;0<=n;n--)(t=f[n]).fired&&e<=t.position&&(t.fired=!1,p--);return!0},u=function(){var e=c._iO,t=e.from,n=e.to,o=function(){P._wD(c.id+': "To" time of '+n+" reached."),c.clearOnPosition(n,o),c.stop()},i=function(){P._wD(c.id+': Playing "from" '+t),null===n||isNaN(n)||c.onPosition(n,o)};return null===t||isNaN(t)||(e.position=t,e.multiShot=!1,i()),e},l=function(){var e,t=c._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&c.onPosition(parseInt(e,10),t[e])},o=function(){var e,t=c._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&c.clearOnPosition(parseInt(e,10))},r=function(){c.isHTML5&&le(c)},n=function(){c.isHTML5&&ue(c)},(a=function(e){e||(f=[],p=0),h=!1,c._hasTimer=null,c._a=null,c._html5_canplay=!1,c.bytesLoaded=null,c.bytesTotal=null,c.duration=c._iO&&c._iO.duration?c._iO.duration:null,c.durationEstimate=null,c.buffered=[],c.eqData=[],c.eqData.left=[],c.eqData.right=[],c.failures=0,c.isBuffering=!1,c.instanceOptions={},c.instanceCount=0,c.loaded=!1,c.metadata={},c.readyState=0,c.muted=!1,c.paused=!1,c.peakData={left:0,right:0},c.waveformData={left:[],right:[]},c.playState=0,c.position=null,c.id3={}})(),this._onTimer=function(e){var t,n=!1,o={};return(c._hasTimer||e)&&c._a&&(e||(0<c.playState||1===c.readyState)&&!c.paused)&&((t=c._get_html5_duration())!==i&&(i=t,c.duration=t,n=!0),c.durationEstimate=c.duration,(t=1e3*c._a.currentTime||0)!==_&&(_=t,n=!0),n||e)&&c._whileplaying(t,o,o,o,o),n},this._get_html5_duration=function(){var e=c._iO;return(e=c._a&&c._a.duration?1e3*c._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&1/0!==e?e:null},this._apply_loop=function(e,t){!e.loop&&1<t&&P._wD("Note: Native HTML5 looping is infinite.",1),e.loop=1<t?"loop":""},this._setup_html5=function(e){e=v(c._iO,e);var t,n=k?Se:c._a,o=decodeURI(e.url);if(k?o===decodeURI(ye)&&(t=!0):o===decodeURI(m)&&(t=!0),n){if(n._s)if(k)n._s&&n._s.playState&&!t&&n._s.stop();else if(!k&&o===decodeURI(m))return c._apply_loop(n,e.loops),n;t||(m&&a(!1),n.src=e.url,ye=m=c.url=e.url,n._called_load=!1)}else e.autoLoad||e.autoPlay?(c._a=new Audio(e.url),c._a.load()):c._a=Ge&&opera.version()<10?new Audio(null):new Audio,(n=c._a)._called_load=!1,k&&(Se=n);return c.isHTML5=!0,(c._a=n)._s=c,s(),c._apply_loop(n,e.loops),e.autoLoad||e.autoPlay?c.load():(n.autobuffer=!1,n.preload="auto"),n},s=function(){if(c._a._added_events)return!1;for(var e in c._a._added_events=!0,T)T.hasOwnProperty(e)&&c._a&&c._a.addEventListener(e,T[e],!1);return!0},t=function(){for(var e in P._wD(c.id+": Removing event listeners"),c._a._added_events=!1,T)T.hasOwnProperty(e)&&c._a&&c._a.removeEventListener(e,T[e],!1)},this._onload=function(e){var t=!!e||!c.isHTML5&&8===g&&c.duration;return e=c.id+": ",P._wD(e+(t?"onload()":"Failed to load / invalid sound?"+(c.duration?" -":" Zero-length duration reported.")+" ("+c.url+")"),t?1:2),t||c.isHTML5||(!0===P.sandbox.noRemote&&P._wD(e+b("noNet"),1),!0===P.sandbox.noLocal&&P._wD(e+b("noLocal"),1)),c.loaded=t,c.readyState=t?3:2,c._onbufferchange(0),t||c.isHTML5||c._onerror(),c._iO.onload&&Oe(c,function(){c._iO.onload.apply(c,[t])}),!0},this._onerror=function(e,t){c._iO.onerror&&Oe(c,function(){c._iO.onerror.apply(c,[e,t])})},this._onbufferchange=function(e){return!(0===c.playState||e&&c.isBuffering||!e&&!c.isBuffering||(c.isBuffering=1===e,c._iO.onbufferchange&&(P._wD(c.id+": Buffer state change: "+e),c._iO.onbufferchange.apply(c,[e])),0))},this._onsuspend=function(){return c._iO.onsuspend&&(P._wD(c.id+": Playback suspended"),c._iO.onsuspend.apply(c)),!0},this._onfailure=function(e,t,n){c.failures++,P._wD(c.id+": Failure ("+c.failures+"): "+e),c._iO.onfailure&&1===c.failures?c._iO.onfailure(e,t,n):P._wD(c.id+": Ignoring failure")},this._onwarning=function(e,t,n){c._iO.onwarning&&c._iO.onwarning(e,t,n)},this._onfinish=function(){var e=c._iO.onfinish;c._onbufferchange(0),c._resetOnPosition(0),c.instanceCount&&(c.instanceCount--,c.instanceCount||(o(),c.playState=0,c.paused=!1,c.instanceCount=0,c.instanceOptions={},c._iO={},n(),c.isHTML5&&(c.position=0)),c.instanceCount&&!c._iO.multiShotEvents||!e||(P._wD(c.id+": onfinish()"),Oe(c,function(){e.apply(c)})))},this._whileloading=function(e,t,n,o){var i=c._iO;c.bytesLoaded=e,c.bytesTotal=t,c.duration=Math.floor(n),c.bufferLength=o,c.durationEstimate=c.isHTML5||i.isMovieStar?c.duration:i.duration?(c.duration>i.duration?c:i).duration:parseInt(c.bytesTotal/c.bytesLoaded*c.duration,10),c.isHTML5||(c.buffered=[{start:0,end:c.duration}]),(3!==c.readyState||c.isHTML5)&&i.whileloading&&i.whileloading.apply(c)},this._whileplaying=function(e,t,n,o,i){var a=c._iO;return!isNaN(e)&&null!==e&&(c.position=Math.max(0,e),c._processOnPosition(),!c.isHTML5&&8<g&&(a.usePeakData&&t!==dt&&t&&(c.peakData={left:t.leftPeak,right:t.rightPeak}),a.useWaveformData&&n!==dt&&n&&(c.waveformData={left:n.split(","),right:o.split(",")}),a.useEQData)&&i!==dt&&i&&i.leftEQ&&(e=i.leftEQ.split(","),c.eqData=e,c.eqData.left=e,i.rightEQ!==dt)&&i.rightEQ&&(c.eqData.right=i.rightEQ.split(",")),1===c.playState&&(c.isHTML5||8!==g||c.position||!c.isBuffering||c._onbufferchange(0),a.whileplaying)&&a.whileplaying.apply(c),!0)},this._oncaptiondata=function(e){P._wD(c.id+": Caption data received."),c.captiondata=e,c._iO.oncaptiondata&&c._iO.oncaptiondata.apply(c,[e])},this._onmetadata=function(e,t){P._wD(c.id+": Metadata received.");for(var n={},o=0,i=e.length;o<i;o++)n[e[o]]=t[o];c.metadata=n,c._iO.onmetadata&&c._iO.onmetadata.call(c,c.metadata)},this._onid3=function(e,t){P._wD(c.id+": ID3 data received.");for(var n=[],o=0,i=e.length;o<i;o++)n[e[o]]=t[o];c.id3=v(c.id3,n),c._iO.onid3&&c._iO.onid3.apply(c)},this._onconnect=function(e){P._wD(c.id+": "+((e=1===e)?"Connected.":"Failed to connect? - "+c.url),e?1:2),(c.connected=e)&&(c.failures=0,D(c.id)&&(c.getAutoPlay()?c.play(dt,c.getAutoPlay()):c._iO.autoLoad&&c.load()),c._iO.onconnect)&&c._iO.onconnect.apply(c,[e])},this._ondataerror=function(e){0<c.playState&&(P._wD(c.id+": Data error: "+e),c._iO.ondataerror)&&c._iO.ondataerror.apply(c)},this._debug()},z=function(){return F.body||F.getElementsByTagName("div")[0]},h=function(e){return F.getElementById(e)},v=function(e,t){var n,o=e||{},i=t===dt?P.defaultOptions:t;for(n in i)i.hasOwnProperty(n)&&o[n]===dt&&(o[n]="object"!=typeof i[n]||null===i[n]?i[n]:v(o[n],i[n]));return o},Oe=function(e,t){e.isHTML5||8!==g?t():ut.setTimeout(t,0)},s={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},q=function(e,t){var n,o=!0,i=t!==dt,a=P.setupOptions;if(e===dt){for(n in o=[],a)a.hasOwnProperty(n)&&o.push(n);for(n in s)s.hasOwnProperty(n)&&("object"==typeof P[n]?o.push(n+": {...}"):P[n]instanceof Function?o.push(n+": function() {...}"):o.push(n));return P._wD(b("setup",o.join(", "))),!1}for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array||e[n]instanceof RegExp)i&&s[t]!==dt?P[t][n]=e[n]:a[n]!==dt?(P.setupOptions[n]=e[n],P[n]=e[n]):s[n]===dt?(O(b(P[n]===dt?"setupUndef":"setupError",n),2),o=!1):P[n]instanceof Function?P[n].apply(P,e[n]instanceof Array?e[n]:[e[n]]):P[n]=e[n];else{if(s[n]!==dt)return q(e[n],n);O(b(P[n]===dt?"setupUndef":"setupError",n),2),o=!1}return o},Te=ut.attachEvent,Pe={add:Te?"attachEvent":"addEventListener",remove:Te?"detachEvent":"removeEventListener"},L={add:function(){lt(rt(arguments),"add")},remove:function(){lt(rt(arguments),"remove")}},T={abort:e(function(){P._wD(this._s.id+": abort")}),canplay:e(function(){var t,n=this._s;if(!n._html5_canplay){if(n._html5_canplay=!0,P._wD(n.id+": canplay"),n._onbufferchange(0),t=n._iO.position===dt||isNaN(n._iO.position)?null:n._iO.position/1e3,this.currentTime!==t){P._wD(n.id+": canplay: Setting position to "+t);try{this.currentTime=t}catch(e){P._wD(n.id+": canplay: Setting position of "+t+" failed: "+e.message,2)}}n._iO._oncanplay&&n._iO._oncanplay()}}),canplaythrough:e(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),durationchange:e(function(){var e=this._s,t=e._get_html5_duration();isNaN(t)||t===e.duration||(P._wD(this._s.id+": durationchange ("+t+")"+(e.duration?", previously "+e.duration:"")),e.durationEstimate=e.duration=t)}),ended:e(function(){var e=this._s;P._wD(e.id+": ended"),e._onfinish()}),error:e(function(){var e=pe[this.error.code]||null;P._wD(this._s.id+": HTML5 error, code "+this.error.code+(e?" ("+e+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,e)}),loadeddata:e(function(){var e=this._s;P._wD(e.id+": loadeddata"),e._loaded||$e||(e.duration=e._get_html5_duration())}),loadedmetadata:e(function(){P._wD(this._s.id+": loadedmetadata")}),loadstart:e(function(){P._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:e(function(){this._s._onbufferchange(0)}),playing:e(function(){P._wD(this._s.id+": playing "+String.fromCharCode(9835)),this._s._onbufferchange(0)}),progress:e(function(e){var t,n,o=this._s,i=0,a="progress"===e.type,s=e.target.buffered,r=e.loaded||0,l=e.total||1;if(o.buffered=[],s&&s.length){for(i=0,t=s.length;i<t;i++)o.buffered.push({start:1e3*s.start(i),end:1e3*s.end(i)});if(i=1e3*(s.end(0)-s.start(0)),r=Math.min(1,i/(1e3*e.target.duration)),a&&1<s.length){for(n=[],t=s.length,i=0;i<t;i++)n.push(1e3*e.target.buffered.start(i)+"-"+1e3*e.target.buffered.end(i));P._wD(this._s.id+": progress, timeRanges: "+n.join(", "))}a&&!isNaN(r)&&P._wD(this._s.id+": progress, "+Math.floor(100*r)+"% loaded")}isNaN(r)||(o._whileloading(r,l,o._get_html5_duration()),r&&l&&r===l&&T.canplaythrough.call(this,e))}),ratechange:e(function(){P._wD(this._s.id+": ratechange")}),suspend:e(function(e){var t=this._s;P._wD(this._s.id+": suspend"),T.progress.call(this,e),t._onsuspend()}),stalled:e(function(){P._wD(this._s.id+": stalled")}),timeupdate:e(function(){this._s._onTimer()}),waiting:e(function(){var e=this._s;P._wD(this._s.id+": waiting"),e._onbufferchange(1)})},fe=function(e){return!(!e||!(e.type||e.url||e.serverURL)||e.serverURL||e.type&&N(e.type))&&(e.type?d({type:e.type}):d({url:e.url})||P.html5Only||e.url.match(/data:/i))},me=function(e){var t;return e&&(t=!$e&&P.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",e.src=t,e._called_unload!==dt)&&(e._called_load=!1),k&&(ye=null),t},d=function(e){if(!P.useHTML5Audio||!P.hasHTML5)return!1;var t,n=e.url||null,o=(e=e.type||null,P.audioFormats);if(e&&P.html5[e]!==dt)return P.html5[e]&&!N(e);if(!c){for(t in c=[],o)o.hasOwnProperty(t)&&(c.push(t),o[t].related)&&(c=c.concat(o[t].related));c=new RegExp("\\.("+c.join("|")+")(\\?.*)?$","i")}return(t=n?n.toLowerCase().match(c):null)&&t.length?t=t[1]:e&&(t=(-1!==(n=e.indexOf(";"))?e.substr(0,n):e).substr(6)),n=t&&P.html5[t]!==dt?P.html5[t]&&!N(t):(n=P.html5.canPlayType({type:e="audio/"+t}),(P.html5[t]=n)&&P.html5[e]&&!N(e))},ge=function(){function e(e){var t,n=t=!1;if(i&&"function"==typeof i.canPlayType)if(e instanceof Array){for(o=0,t=e.length;o<t;o++)(P.html5[e[o]]||i.canPlayType(e[o]).match(P.html5Test))&&(P.html5[e[o]]=n=!0,P.flash[e[o]]=!!e[o].match(tt));t=n}else t=!(!(e=!(!i||"function"!=typeof i.canPlayType)&&i.canPlayType(e))||!e.match(P.html5Test));return t}if(!P.useHTML5Audio||!P.hasHTML5)return!(R=P.html5.usingFlash=!0);var t,n,o,i=Audio!==dt?Ge&&opera.version()<10?new Audio(null):new Audio:null,a={},s=P.audioFormats;for(t in s)if(s.hasOwnProperty(t)&&(n="audio/"+t,a[t]=e(s[t].type),a[n]=a[t],t.match(tt)?(P.flash[t]=!0,P.flash[n]=!0):(P.flash[t]=!1,P.flash[n]=!1),s[t])&&s[t].related)for(o=s[t].related.length-1;0<=o;o--)a["audio/"+s[t].related[o]]=a[t],P.html5[s[t].related[o]]=a[t],P.flash[s[t].related[o]]=a[t];return a.canPlayType=i?e:null,P.html5=v(P.html5,a),P.html5.usingFlash=he(),R=P.html5.usingFlash,!0},f={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:"soundManagerexception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:"soundManager: Verify that %s is a valid path.",tryDebug:"Try soundManager.debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:"soundManager: Non-HTTP page ("+F.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:"soundManager: Special case: Waiting for SWF to load with window focus...",waitForever:"soundManager: Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:"soundManager: Waiting for 100% SWF load...",needFunction:"soundManager: Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:"soundManager: _debug(): Current sound objects",waitOnload:"soundManager: Waiting for window.onload()",docLoaded:"soundManager: Document already loaded",onload:"soundManager: initComplete(): calling soundManager.onload()",onloadOK:"soundManager.onload() complete",didInit:"soundManager: init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"soundManager: Failed to remove Flash node.",shutdown:"soundManager.disable(): Shutting down",queue:"soundManager: Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying .swf_timedout CSS...",fbLoaded:"Flash loaded",fbHandler:"soundManager: flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:"soundManager.load(): current URL already assigned.",badFV:'soundManager.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:"soundManager: Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:"soundManager: Got window focus.",policy:"Enabling usePolicyFile for data access",setup:"soundManager.setup(): allowed parameters: %s",setupError:'soundManager.setup(): "%s" cannot be assigned with this method.',setupUndef:'soundManager.setup(): Could not find option "%s"',setupLate:"soundManager.setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:"soundManager: Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:"soundManager.reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},b=function(){var e,t,n=We.call(arguments),o=n.shift();if((t=f&&f[o]?f[o]:"")&&n&&n.length)for(o=0,e=n.length;o<e;o++)t=t.replace("%s",n[o]);return t},se=function(e){return 8===g&&1<e.loops&&e.stream&&(w("as2loop"),e.stream=!1),e},re=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(P._wD((t||"")+b("policy")),e.usePolicyFile=!0),e},O=function(e){ze&&console.warn!==dt?console.warn(e):P._wD(e)},B=function(){return!1},te=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=B)},ne=function(e){e===dt&&(e=!1),(A||e)&&P.disable(e)},oe=function(e){if(e)if(e.match(/\.swf(\?.*)?$/i)){if(e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+P.movieURL,P.noSWFCache&&(e+="?ts="+(new Date).getTime()),e},$=function(){8!==(g=parseInt(P.flashVersion,10))&&9!==g&&(P._wD(b("badFV",g,8)),P.flashVersion=g=8);var e=P.debugMode||P.debugFlash?"_debug.swf":".swf";P.useHTML5Audio&&!P.html5Only&&P.audioFormats.mp4.required&&g<9&&(P._wD(b("needfl9")),P.flashVersion=g=9),P.version=P.versionNumber+(P.html5Only?" (HTML5-only mode)":9===g?" (AS3/Flash 9)":" (AS2/Flash 8)"),8<g?(P.defaultOptions=v(P.defaultOptions,P.flash9Options),P.features.buffering=!0,P.defaultOptions=v(P.defaultOptions,P.movieStarOptions),P.filePatterns.flash9=new RegExp("\\.(mp3|"+at.join("|")+")(\\?.*)?$","i"),P.features.movieStar=!0):P.features.movieStar=!1,P.filePattern=P.filePatterns[8!==g?"flash9":"flash8"],P.movieURL=(8===g?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),P.features.peakData=P.features.waveformData=P.features.eqData=8<g},Y=function(e,t){S&&S._setPolling(e,t)},ee=function(){var e,t,n,o;if((P.debugURLParam.test(Fe)&&(P.setupOptions.debugMode=P.debugMode=!0),!h(P.debugID))&&!(!P.debugMode||h(P.debugID)||ze&&P.useConsole&&P.consoleOnly)){for(o in(e=F.createElement("div")).id=P.debugID+"-toggle",t={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(F.createTextNode("-")),e.onclick=ae,e.title="Toggle SM2 debug console",_.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand"),t)t.hasOwnProperty(o)&&(e.style[o]=t[o]);if((t=F.createElement("div")).id=P.debugID,t.style.display=P.debugMode?"block":"none",P.debugMode&&!h(e.id)){try{(n=z()).appendChild(e)}catch(e){throw Error(b("domError")+" \n"+e.toString())}n.appendChild(t)}}},D=this.getSoundById,w=function(e,t){return e?P._wD(b(e),t):""},ae=function(){var e=h(P.debugID),t=h(P.debugID+"-toggle");e&&(Ie?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),Ie=!Ie)},y=function(e,t,n){if(ut.sm2Debugger!==dt)try{sm2Debugger.handleEvent(e,t,n)}catch(e){return!1}return!0},p=function(){var e=[];return P.debugMode&&e.push("sm2_debug"),P.debugFlash&&e.push("flash_debug"),P.useHighPerformance&&e.push("high_performance"),e.join(" ")},ie=function(){var e=b("fbHandler"),t=P.getMoviePercent(),n={type:"FLASHBLOCK"};P.html5Only||(P.ok()?(P.didFlashBlock&&P._wD(e+": Unblocked"),P.oMC&&(P.oMC.className=[p(),"movieContainer","swf_loaded"+(P.didFlashBlock?" swf_unblocked":"")].join(" "))):(R&&(P.oMC.className=p()+" movieContainer "+(null===t?"swf_timedout":"swf_error"),P._wD(e+": "+b("fbTimeout")+(t?" ("+b("fbLoaded")+")":""))),P.didFlashBlock=!0,o({type:"ontimeout",ignoreInit:!0,error:n}),M(n)))},V=function(e,t,n){I[e]===dt&&(I[e]=[]),I[e].push({method:t,scope:n||null,fired:!1})},o=function(e){if(e=e||{type:P.ok()?"onready":"ontimeout"},!H&&e&&!e.ignoreInit||"ontimeout"===e.type&&(P.ok()||A&&!e.ignoreInit))return!1;var t,n={success:e&&e.ignoreInit?P.ok():!A},o=e&&e.type&&I[e.type]||[],i=[],n=[n],a=R&&!P.ok();for(e.error&&(n[0].error=e.error),e=0,t=o.length;e<t;e++)!0!==o[e].fired&&i.push(o[e]);if(i.length)for(e=0,t=i.length;e<t;e++)i[e].scope?i[e].method.apply(i[e].scope,n):i[e].method.apply(this,n),a||(i[e].fired=!0);return!0},i=function(){ut.setTimeout(function(){P.useFlashBlock&&ie(),o(),"function"==typeof P.onload&&(w("onload",1),P.onload.apply(ut),w("onloadOK",1)),P.waitForWindowLoad&&L.add(ut,"load",i)},1)},we=function(){if(m!==dt)return m;var t,n,e=!1,o=navigator,i=ut.ActiveXObject;try{n=o.plugins}catch(e){n=void 0}if(n&&n.length)(o=o.mimeTypes)&&o["application/x-shockwave-flash"]&&o["application/x-shockwave-flash"].enabledPlugin&&o["application/x-shockwave-flash"].enabledPlugin.description&&(e=!0);else if(i!==dt&&!_.match(/MSAppHost/i)){try{t=new i("ShockwaveFlash.ShockwaveFlash")}catch(e){t=null}e=!!t}return m=e},he=function(){var e,t,n=P.audioFormats;if(Ve&&_.match(/os (1|2|3_0|3_1)\s/i)?(P.hasHTML5=!1,P.html5Only=!0,P.oMC&&(P.oMC.style.display="none")):P.useHTML5Audio&&(P.html5&&P.html5.canPlayType||(P._wD("SoundManager: No HTML5 Audio() support detected."),P.hasHTML5=!1),Xe)&&P._wD("soundManager: Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(m?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1),P.useHTML5Audio&&P.hasHTML5)for(t in u=!0,n)n.hasOwnProperty(t)&&n[t].required&&(P.html5.canPlayType(n[t].type)?P.preferFlash&&(P.flash[t]||P.flash[n[t].type])&&(e=!0):(u=!1,e=!0));return P.ignoreFlash&&(u=!(e=!1)),P.html5Only=P.hasHTML5&&P.useHTML5Audio&&!e,!P.html5Only},ce=function(e){var t,n,o=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(P.canPlayMIME(e[t].type)){o=t;break}}else if(P.canPlayURL(e[t])){o=t;break}e[o].url&&(e[o]=e[o].url),e=e[o]}return e},le=function(e){e._hasTimer||(e._hasTimer=!0,!Je&&P.html5PollingInterval&&(null===je&&0===Be&&(je=setInterval(de,P.html5PollingInterval)),Be++))},ue=function(e){e._hasTimer&&(e._hasTimer=!1,!Je)&&P.html5PollingInterval&&Be--},de=function(){var e;if(null===je||Be)for(e=P.soundIDs.length-1;0<=e;e--)P.sounds[P.soundIDs[e]].isHTML5&&P.sounds[P.soundIDs[e]]._hasTimer&&P.sounds[P.soundIDs[e]]._onTimer();else clearInterval(je),je=null},M=function(e){e=e!==dt?e:{},"function"==typeof P.onerror&&P.onerror.apply(ut,[{type:e.type!==dt?e.type:null}]),e.fatal!==dt&&e.fatal&&P.disable()},ve=function(){if(Xe&&we()){var e,t,n=P.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(P._wD("soundManager: Using flash fallback for "+t+" format"),P.html5[t]=!1,n[t])&&n[t].related)for(e=n[t].related.length-1;0<=e;e--)P.html5[n[t].related[e]]=!1}},this._setSandboxType=function(e){var t=P.sandbox;t.type=e,t.description=t.types[t.types[e]!==dt?e:"unknown"],"localWithFile"===t.type?(t.noRemote=!0,t.noLocal=!1,w("secNote",2)):"localWithNetwork"===t.type?(t.noRemote=!1,t.noLocal=!0):"localTrusted"===t.type&&(t.noRemote=!1,t.noLocal=!1)},this._externalInterfaceOK=function(e){var t;P.swfLoaded||(y("swf",!0),y("flashtojs",!0),P.swfLoaded=!0,Ye=!1,Xe&&ve(),e&&e.replace(/\+dev/i,"")===P.versionNumber.replace(/\+dev/i,"")?setTimeout(W,C?100:1):(t='soundManager: Fatal: JavaScript file build "'+P.versionNumber+'" does not match Flash SWF build "'+e+'" at '+P.url+". Ensure both are up-to-date.",setTimeout(function(){throw Error(t)},0)))},Z=function(e,t){function n(){var e=[],t=[],n="SoundManager "+P.version+(!P.html5Only&&P.useHTML5Audio?P.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"");P.html5Only?P.html5PollingInterval&&e.push("html5PollingInterval ("+P.html5PollingInterval+"ms)"):(P.preferFlash&&e.push("preferFlash"),P.useHighPerformance&&e.push("useHighPerformance"),P.flashPollingInterval&&e.push("flashPollingInterval ("+P.flashPollingInterval+"ms)"),P.html5PollingInterval&&e.push("html5PollingInterval ("+P.html5PollingInterval+"ms)"),P.wmode&&e.push("wmode ("+P.wmode+")"),P.debugFlash&&e.push("debugFlash"),P.useFlashBlock&&e.push("flashBlock")),e.length&&(t=t.concat([e.join(" + ")])),P._wD(n+(t.length?" + "+t.join(", "):""),1),Me()}function o(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(He&&Ae)return!1;if(P.html5Only)return $(),n(),P.oMC=h(P.movieID),W(),!(Ae=He=!0);var i,a,s,r=t||P.url,l=P.altURL||r,u=z(),d=p(),c=null,c=(c=F.getElementsByTagName("html")[0])&&c.dir&&c.dir.match(/rtl/i);if(e=e===dt?P.id:e,$(),P.url=oe(nt?r:l),t=P.url,P.wmode=!P.wmode&&P.useHighPerformance?"transparent":P.wmode,null!==P.wmode&&(_.match(/msie 8/i)||!C&&!P.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(E.push(f.spcWmode),P.wmode=null),u={name:e,id:e,src:t,quality:"high",allowScriptAccess:P.allowScriptAccess,bgcolor:P.bgColor,pluginspage:ot+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:P.wmode,hasPriority:"true"},P.debugFlash&&(u.FlashVars="debug=1"),P.wmode||delete u.wmode,C)r=F.createElement("div"),a=['<object id="'+e+'" data="'+t+'" type="'+u.type+'" title="'+u.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',o("movie",t),o("AllowScriptAccess",P.allowScriptAccess),o("quality",u.quality),P.wmode?o("wmode",P.wmode):"",o("bgcolor",P.bgColor),o("hasPriority","true"),P.debugFlash?o("FlashVars",u.FlashVars):"","</object>"].join("");else for(i in r=F.createElement("embed"),u)u.hasOwnProperty(i)&&r.setAttribute(i,u[i]);if(ee(),d=p(),u=z())if(P.oMC=h(P.movieID)||F.createElement("div"),P.oMC.id)s=P.oMC.className,P.oMC.className=(s?s+" ":"movieContainer")+(d?" "+d:""),P.oMC.appendChild(r),C&&((i=P.oMC.appendChild(F.createElement("div"))).className="sm2-object-box",i.innerHTML=a),Ae=!0;else{if(P.oMC.id=P.movieID,P.oMC.className="movieContainer "+d,i=d=null,P.useFlashBlock||(P.useHighPerformance?d={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(d={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},c&&(d.left=Math.abs(parseInt(d.left,10))+"px"))),Ke&&(P.oMC.style.zIndex=1e4),!P.debugFlash)for(s in d)d.hasOwnProperty(s)&&(P.oMC.style[s]=d[s]);try{C||P.oMC.appendChild(r),u.appendChild(P.oMC),C&&((i=P.oMC.appendChild(F.createElement("div"))).className="sm2-object-box",i.innerHTML=a),Ae=!0}catch(e){throw Error(b("domError")+" \n"+e.toString())}}return He=!0,n(),!0},J=function(){return P.html5Only?(Z(),!1):!S&&(P.url?((S=P.getMovie(P.id))||(Ce?(C?P.oMC.innerHTML=xe:P.oMC.appendChild(Ce),He=!(Ce=null)):Z(P.id,P.url),S=P.getMovie(P.id)),"function"==typeof P.oninitmovie&&setTimeout(P.oninitmovie,1),be(),!0):(w("noURL"),!1))},a=function(){setTimeout(Q,1e3)},K=function(){ut.setTimeout(function(){O("soundManager: useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),P.setup({preferFlash:!1}).reboot(),P.didFlashBlock=!0,P.beginDelayedInit()},1)},Q=function(){var e,t=!1;P.url&&!Ne&&(Ne=!0,L.remove(ut,"load",a),m&&Ye&&!Ze?w("waitFocus"):(H||0<(e=P.getMoviePercent())&&e<100&&(t=!0),setTimeout(function(){e=P.getMoviePercent(),t?(Ne=!1,P._wD(b("waitSWF")),ut.setTimeout(a,1)):(H||(P._wD("soundManager: No Flash response within expected time. Likely causes: "+(0===e?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(P.debugFlash?" "+b("checkSWF"):""),2),!nt&&e&&(w("localFail",2),P.debugFlash||w("tryDebug",2)),0===e&&P._wD(b("swf404",P.url),1),y("flashtojs",!1,": Timed out"+(nt?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!H&&et&&(null===e?P.useFlashBlock||0===P.flashLoadTimeout?(P.useFlashBlock&&ie(),w("waitForever")):!P.useFlashBlock&&u?K():(w("waitForever"),o({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===P.flashLoadTimeout?w("waitForever"):!P.useFlashBlock&&u?K():ne(!0)))},P.flashLoadTimeout)))},G=function(){return Ze||!Ye?L.remove(ut,"focus",G):(Ze=et=!0,w("gotFocus"),Ne=!1,a(),L.remove(ut,"focus",G)),!0},be=function(){E.length&&(P._wD("SoundManager 2: "+E.join(" "),1),E=[])},Me=function(){be();var e,t=[];if(P.useHTML5Audio&&P.hasHTML5){for(e in P.audioFormats)P.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+P.html5[e]+(!P.html5[e]&&R&&P.flash[e]?" (using flash)":P.preferFlash&&P.flash[e]&&R?" (preferring flash)":P.html5[e]?"":" ("+(P.audioFormats[e].required?"required, ":"")+"and no flash support)"));P._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},n=function(e){var t,n;return!H&&(P.html5Only?(w("sm2Loaded",1),H=!0,i(),y("onload",!0),!0):(t=!0,P.useFlashBlock&&P.flashLoadTimeout&&!P.getMoviePercent()||(H=!0),n={type:!m&&R?"NO_FLASH":"INIT_TIMEOUT"},P._wD("SoundManager 2 "+(A?"failed to load":"loaded")+" ("+(A?"Flash security/load error":"OK")+") "+String.fromCharCode(A?10006:10003),A?2:1),A||e?(P.useFlashBlock&&P.oMC&&(P.oMC.className=p()+" "+(null===P.getMoviePercent()?"swf_timedout":"swf_error")),o({type:"ontimeout",error:n,ignoreInit:!0}),y("onload",!1),M(n),t=!1):y("onload",!0),A||(P.waitForWindowLoad&&!Ee?(w("waitOnload"),L.add(ut,"load",i)):(P.waitForWindowLoad&&Ee&&w("docLoaded"),i())),t))},j=function(){var e,t=P.setupOptions;for(e in t)t.hasOwnProperty(e)&&(P[e]===dt?P[e]=t[e]:P[e]!==t[e]&&(P.setupOptions[e]=P[e]))},W=function(){if(H)return w("didInit"),!1;if(P.html5Only)H||(L.remove(ut,"load",P.beginDelayedInit),P.enabled=!0,n());else{J();try{S._externalInterfaceTest(!1),Y(!0,P.flashPollingInterval||(P.useHighPerformance?10:50)),P.debugMode||S._disableDebug(),P.enabled=!0,y("jstoflash",!0),P.html5Only||L.add(ut,"unload",B)}catch(e){return P._wD("js/flash exception: "+e.toString()),y("jstoflash",!1),M({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),ne(!0),n(),!1}n(),L.remove(ut,"load",P.beginDelayedInit)}return!0},r=function(){return!l&&(l=!0,j(),ee(),!m&&P.hasHTML5&&(P._wD("SoundManager 2: No Flash detected"+(P.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),P.setup({useHTML5Audio:!0,preferFlash:!1})),ge(),!m&&R&&(E.push(f.needFlash),P.setup({flashLoadTimeout:1})),F.removeEventListener&&F.removeEventListener("DOMContentLoaded",r,!1),J(),!0)},_e=function(){return"complete"===F.readyState&&(r(),F.detachEvent("onreadystatechange",_e)),!0},X=function(){Ee=!0,r(),L.remove(ut,"load",X)},we(),L.add(ut,"focus",G),L.add(ut,"load",a),L.add(ut,"load",X),F.addEventListener?F.addEventListener("DOMContentLoaded",r,!1):F.attachEvent?F.attachEvent("onreadystatechange",_e):(y("onload",!1),M({type:"NO_DOM2_EVENTS",fatal:!0}))}if(!ut||!ut.document)throw Error("SoundManager requires a browser with window and document objects.");var e=null;ut.SM2_DEFER!==dt&&SM2_DEFER||(e=new t),"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports.SoundManager=t,module.exports.soundManager=e):"function"==typeof define&&define.amd&&define(function(){return{constructor:t,getInstance:function(e){return!ut.soundManager&&e instanceof Function&&(e=e(t))instanceof t&&(ut.soundManager=e),ut.soundManager}}}),ut.SoundManager=t,ut.soundManager=e}(window);