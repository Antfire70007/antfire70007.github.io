!function(){var T=jQuery.fn.revolution,k=T.is_mobile(),x=(T.is_android(),{alias:"Video Min JS",name:"revolution.extensions.video.min.js",min_core:"5.4.8",version:"2.2.2"});function V(e){return null==e?-1:!jQuery.isNumeric(e)&&1<e.split(":").length?60*parseInt(e.split(":")[0],0)+parseInt(e.split(":")[1],0):e}jQuery.extend(!0,T,{preLoadAudio:function(e,a){if("stop"===T.compare_version(x).check)return!1;e.find(".tp-audiolayer").each(function(){var e=jQuery(this),t={};0===e.find("audio").length&&(t.src=null!=e.data("videomp4")?e.data("videomp4"):"",t.pre=e.data("videopreload")||"",void 0===e.attr("id")&&e.attr("audio-layer-"+Math.round(199999*Math.random())),t.id=e.attr("id"),t.status="prepared",t.start=jQuery.now(),t.waittime=1e3*e.data("videopreloadwait")||5e3,"auto"!=t.pre&&"canplaythrough"!=t.pre&&"canplay"!=t.pre&&"progress"!=t.pre||(void 0===a.audioqueue&&(a.audioqueue=[]),a.audioqueue.push(t),T.manageVideoLayer(e,a)))})},preLoadAudioDone:function(a,e,i){e.audioqueue&&0<e.audioqueue.length&&jQuery.each(e.audioqueue,function(e,t){a.data("videomp4")!==t.src||t.pre!==i&&"auto"!==t.pre||(t.status="loaded")})},resetVideo:function(e,t,a,i){var o=e.data();switch(o.videotype){case"youtube":o.player;try{"on"==o.forcerewind&&(n=-1==(l=V(e.data("videostartat"))),r=1===o.bgvideo||0<e.find(".tp-videoposter").length,null!=o.player)&&(l=-1==l?0:l,o.player.seekTo(l),o.player.pauseVideo())}catch(e){}0==e.find(".tp-videoposter").length&&1!==o.bgvideo&&!0!==a&&punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"vimeo":var d=e.data("vimeoplayer");try{"on"==o.forcerewind&&(l=V(o.videostartat),n=-1==l,r=1===o.bgvideo||0<e.find(".tp-videoposter").length,0!==(l=-1==l?0:l)&&!n||r)&&d.pause().then(function(){d.setCurrentTime(l)})}catch(e){}0==e.find(".tp-videoposter").length&&1!==o.bgvideo&&!0!==a&&punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"html5":if(k&&1==o.disablevideoonmobile)return!1;var n="html5"==o.audio?"audio":"video",r=e.find(n),n=r[0];if(punchgs.TweenLite.to(r,.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"on"==o.forcerewind&&!e.hasClass("videoisplaying"))try{var l=V(o.videostartat);n.currentTime=-1==l?0:l}catch(e){}"mute"!=o.volume&&!T.lastToggleState(e.videomutetoggledby)&&!0!==t.globalmute||(n.muted=!0)}},isVideoMuted:function(e,t){var a=!1,i=e.data();switch(i.videotype){case"youtube":try{a=i.player.isMuted()}catch(e){}break;case"vimeo":try{"mute"==i.volume&&(a=!0)}catch(e){}break;case"html5":var o="html5"==i.audio?"audio":"video";e.find(o)[0].muted&&(a=!0)}return a},muteVideo:function(e,t){var a=e.data();switch(a.videotype){case"youtube":try{a.player.mute()}catch(e){}break;case"vimeo":try{var i=e.data("vimeoplayer");e.data("volume","mute"),i.setVolume(0)}catch(e){}break;case"html5":i="html5"==a.audio?"audio":"video";e.find(i)[0].muted=!0}},unMuteVideo:function(e,t){if(!0!==t.globalmute){var a=e.data();switch(a.videotype){case"youtube":try{a.player.unMute()}catch(e){}break;case"vimeo":try{var i=e.data("vimeoplayer");e.data("volume","1"),i.setVolume(1)}catch(e){}break;case"html5":i="html5"==a.audio?"audio":"video";e.find(i)[0].muted=!1}}},stopVideo:function(e,t){var a=e.data();switch(t.leaveViewPortBasedStop||(t.lastplayedvideos=[]),t.leaveViewPortBasedStop=!1,a.videotype){case"youtube":try{var i=a.player;if(2===i.getPlayerState()||5===i.getPlayerState())return;i.pauseVideo(),a.youtubepausecalled=!0,setTimeout(function(){a.youtubepausecalled=!1},80)}catch(e){console.log("Issue at YouTube Video Pause:"),console.log(e)}break;case"vimeo":try{e.data("vimeoplayer").pause(),a.vimeopausecalled=!0,setTimeout(function(){a.vimeopausecalled=!1},80)}catch(e){console.log("Issue at Vimeo Video Pause:"),console.log(e)}break;case"html5":var i="html5"==a.audio?"audio":"video",i=e.find(i),o=i[0];null!=i&&null!=o&&o.pause()}},playVideo:function(a,e){clearTimeout(a.data("videoplaywait"));var i,t,o,d=a.data();switch(d.videotype){case"youtube":0==a.find("iframe").length?(a.append(a.data("videomarkup")),C(a,e,!0)):null!=d.player.playVideo?(n=V(a.data("videostartat")),r=d.player.getCurrentTime(),1==a.data("nextslideatend-triggered")&&(r=-1,a.data("nextslideatend-triggered",0)),-1!=n&&r<n&&d.player.seekTo(n),!0!==d.youtubepausecalled&&d.player.playVideo()):a.data("videoplaywait",setTimeout(function(){!0!==d.youtubepausecalled&&T.playVideo(a,e)},50));break;case"vimeo":0==a.find("iframe").length?(a.removeData("vimeoplayer"),a.append(a.data("videomarkup")),C(a,e,!0)):a.hasClass("rs-apiready")&&(l=a.find("iframe").attr("id"),a.data("vimeoplayer")?i=a.data("vimeoplayer"):(i=new Vimeo.Player(l),a.data("vimeoplayer",i)),i.getPaused())?setTimeout(function(){var e=V(a.data("videostartat")),t=(t=a.data("currenttime"))||0;1==a.data("nextslideatend-triggered")&&(t=-1,a.data("nextslideatend-triggered",0)),-1!=e&&t<e&&i.setCurrentTime(e),i.play()},510):a.data("videoplaywait",setTimeout(function(){!0!==d.vimeopausecalled&&T.playVideo(a,e)},50));break;case"html5":var n,r,l="html5"==d.audio?"audio":"video",l=a.find(l),s=l[0];1!=l.parent().data("metaloaded")?L(s,"loadedmetadata",(l=a,T.resetVideo(l,e),s.play(),t=V(l.data("videostartat")),o=s.currentTime,1==l.data("nextslideatend-triggered")&&(o=-1,l.data("nextslideatend-triggered",0)),void(-1!=t&&o<t&&(s.currentTime=t)))):(s.play(),n=V(a.data("videostartat")),r=s.currentTime,1==a.data("nextslideatend-triggered")&&(r=-1,a.data("nextslideatend-triggered",0)),-1!=n&&r<n&&(s.currentTime=n))}},isVideoPlaying:function(a,e){var i=!1;return null!=e.playingvideos&&jQuery.each(e.playingvideos,function(e,t){a.attr("id")==t.attr("id")&&(i=!0)}),i},removeMediaFromList:function(e,t){S(e,t)},prepareCoveredVideo:function(e,t){var a,i,o,d;t.hasClass("tp-caption")&&!t.hasClass("coverscreenvideo")||void 0!==t.data("vimeoid")&&void 0===t.data("vimeoplayerloaded")||((a={}).ifr=t.find("iframe, video"),a.asp=t.data("aspectratio"),a.wa=a.asp.split(":")[0],a.ha=a.asp.split(":")[1],a.vd=a.wa/a.ha,0===(i="carousel"!==e.sliderType?e.conw:t.closest(".tp-revslider-slidesli").width())||0===e.conh?(T.setSize(e),clearTimeout(a.ifr.data("resizelistener")),a.ifr.data("resizelistener",setTimeout(function(){T.prepareCoveredVideo(e,t)},100))):(o=(i=i/e.conh)/a.vd*100,d=a.vd/i*100,a.vd<i?punchgs.TweenLite.set(a.ifr,{height:o+"%",width:"100%",top:-(o-100)/2+"%",left:"0px",position:"absolute"}):punchgs.TweenLite.set(a.ifr,{width:d+"%",height:"100%",left:-(d-100)/2+"%",top:"0px",position:"absolute"}),a.ifr.hasClass("resizelistener")||(a.ifr.addClass("resizelistener"),jQuery(window).resize(function(){T.prepareCoveredVideo(e,t),clearTimeout(a.ifr.data("resizelistener")),a.ifr.data("resizelistener",setTimeout(function(){T.prepareCoveredVideo(e,t)},90))}))))},checkVideoApis:function(e,t,a){var i,o,d;location.protocol;return(null!=e.data("ytid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("youtube"))&&(t.youtubeapineeded=!0),(null!=e.data("ytid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("youtube"))&&0==a.addedyt&&(t.youtubestarttime=jQuery.now(),a.addedyt=1,(i=document.createElement("script")).src="https://www.youtube.com/iframe_api",o=document.getElementsByTagName("script")[0],d=!0,jQuery("head").find("*").each(function(){"https://www.youtube.com/iframe_api"==jQuery(this).attr("src")&&(d=!1)}),d)&&o.parentNode.insertBefore(i,o),(null!=e.data("vimeoid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("vimeo"))&&(t.vimeoapineeded=!0),(null!=e.data("vimeoid")||0<e.find("iframe").length&&0<e.find("iframe").attr("src").toLowerCase().indexOf("vimeo"))&&0==a.addedvim&&(t.vimeostarttime=jQuery.now(),a.addedvim=1,i=document.createElement("script"),o=document.getElementsByTagName("script")[0],d=!0,i.src="https://player.vimeo.com/api/player.js",jQuery("head").find("*").each(function(){"https://player.vimeo.com/api/player.js"==jQuery(this).attr("src")&&(d=!1)}),d)&&o.parentNode.insertBefore(i,o),a},manageVideoLayer:function(a,i,e,t){if("stop"===T.compare_version(x).check)return!1;var o=a.data(),d=o.videoattributes,n=o.ytid,r=o.vimeoid,l="auto"===o.videopreload||"canplay"===o.videopreload||"canplaythrough"===o.videopreload||"progress"===o.videopreload?"auto":o.videopreload,s=o.videomp4,u=o.videowebm,p=o.videoogv,c=o.allowfullscreenvideo,v=o.videocontrols,m="http",g="loop"==o.videoloop||"loopandnoslidestop"==o.videoloop?"loop":"",y=null!=s||null!=u?"html5":null!=n&&1<String(n).length?"youtube":null!=r&&1<String(r).length?"vimeo":"none",h="html5"==o.audio?"audio":"video",f="html5"==y&&0==a.find(h).length?"html5":"youtube"==y&&0==a.find("iframe").length?"youtube":"vimeo"==y&&0==a.find("iframe").length?"vimeo":"none",g=!0===o.nextslideatend?"":g;switch(o.videotype=y,f){case"html5":"controls"!=v&&(v="");var h="video",b=("html5"==o.audio&&(h="audio",a.addClass("tp-audio-html5")),""),b=("video"===h&&(T.is_mobile()||T.isSafari11())&&("on"===o.autoplay||"true"===o.autoplay||!0===o.autoplay?b="muted playsinline autoplay":1!=o.videoinline&&"true"!==o.videoinline&&1!==o.videoinline||(b+=" playsinline")),"<"+h+" "+b+' style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+g+' preload="'+l+'">'),w=("auto"==l&&(i.mediapreload=!0),"video"===h?(null!=u&&"firefox"==T.get_browser().toLowerCase()&&(b=b+'<source src="'+u+'" type="video/webm" />'),null!=s&&(b=b+'<source src="'+s+'" type="video/mp4" />'),null!=p&&(b=b+'<source src="'+p+'" type="video/ogg" />')):"audio"===h&&(null!=s&&(b=b+'<source src="'+s+'" type="audio/mpeg" />'),null!=p)&&(b=b+'<source src="'+p+'" type="audio/ogg" />'),b=b+"</"+h+">","");"true"!==c&&!0!==c||(w='<div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div>'),a.data("videomarkup",b="controls"==v?b+'<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div>'+w+"</div>":b),a.append(b),(k&&1==a.data("disablevideoonmobile")||T.isIE(8))&&a.find(h).remove(),a.find(h).each(function(e){var t=jQuery(this);t.parent().hasClass("html5vid")||t.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>'),1!=t.parent().data("metaloaded")&&L(this,"loadedmetadata",(I(t=a,i),void T.resetVideo(t,i)))});break;case"youtube":m="https","none"==v&&-1==(d=d.replace("controls=1","controls=0")).toLowerCase().indexOf("controls")&&(d+="&controls=0"),!0!==o.videoinline&&"true"!==o.videoinline&&1!==o.videoinline&&!a.hasClass("rs-background-video-layer")&&"on"!==a.data("autoplay")||(d+="&playsinline=1");w=V(a.data("videostartat")),b=V(a.data("videoendat")),w=(-1!=w&&(d=d+"&start="+w),(d=-1!=b?d+"&end="+b:d).split("origin="+m+"://")),b="",w=(1<w.length?(b=w[0]+"origin="+m+"://",self.location.href.match(/www/gi)&&!w[1].match(/www/gi)&&(b+="www."),b+=w[1]):b=d,"true"===c||!0===c?"allowfullscreen":"");a.data("videomarkup",'<iframe type="text/html" src="'+m+"://www.youtube-nocookie.com/embed/"+n+"?"+b+'" '+w+' width="100%" height="100%" style="opacity:0;width:100%;height:100%"></iframe>');break;case"vimeo":a.data("videomarkup",'<iframe src="'+(m="https")+"://player.vimeo.com/video/"+r+"?"+d+'" webkitallowfullscreen mozallowfullscreen allowfullscreen width="100%" height="100%" style="opacity:0;visibility:hidden;width:100%;height:100%"></iframe>')}f=k&&"on"==a.data("noposteronmobile");if(null!=o.videoposter&&2<o.videoposter.length&&!f)0==a.find(".tp-videoposter").length&&a.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+o.videoposter+'); background-size:cover;background-position:center center;"></div>'),0==a.find("iframe").length&&a.find(".tp-videoposter").click(function(){if(T.playVideo(a,i),k){if(1==a.data("disablevideoonmobile"))return!1;punchgs.TweenLite.to(a.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(a.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}});else{if(k&&1==a.data("disablevideoonmobile"))return!1;0!=a.find("iframe").length||"youtube"!=y&&"vimeo"!=y||(a.removeData("vimeoplayer"),a.append(a.data("videomarkup")),C(a,i,!1))}"none"!=a.data("dottedoverlay")&&null!=a.data("dottedoverlay")&&1!=a.find(".tp-dottedoverlay").length&&a.append('<div class="tp-dottedoverlay '+a.data("dottedoverlay")+'"></div>'),a.addClass("HasListener"),1==a.data("bgvideo")&&(a.data("ytid")?punchgs.TweenLite.set(a.find("iframe"),{opacity:0}):punchgs.TweenLite.set(a.find("video, iframe"),{autoAlpha:0}))}});function f(e,t,a){var i={};return i.video=e,i.videotype=t,i.settings=a,i}function b(e,t){var a;1!=t.data("bgvideo")&&1!=t.data("forcecover")||(1===t.data("forcecover")&&t.removeClass("fullscreenvideo").addClass("coverscreenvideo"),void 0===(a=t.data("aspectratio"))&&a.split(":").length<=1&&t.data("aspectratio","16:9"),T.prepareCoveredVideo(e,t))}var L=function(e,t,a){e.addEventListener?e.addEventListener(t,a,{capture:!1,passive:!0}):e.attachEvent(t,a,{capture:!1,passive:!0})},C=function(d,o,e){var n=d.data(),t=d.find("iframe"),a="iframe"+Math.round(1e5*Math.random()+1),r="loopandnoslidestop"!=(l=n.videoloop),l="loop"==l||"loopandnoslidestop"==l;if(b(o,d),t.attr("id",a),e&&d.data("startvideonow",!0),1!==d.data("videolistenerexist"))switch(n.videotype){case"youtube":var s=new YT.Player(a,{events:{onStateChange:function(e){var t,a=d.closest(".tp-simpleresponsive"),i=(n.videorate,d.data("videostart"),P());e.data==YT.PlayerState.PLAYING?(punchgs.TweenLite.to(d.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(d.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"mute"==d.data("volume")||T.lastToggleState(d.data("videomutetoggledby"))||!0===o.globalmute?s.mute():(s.unMute(),s.setVolume(parseInt(d.data("volume"),0)||75)),o.videoplaying=!0,_(d,o),r?o.c.trigger("stoptimer"):o.videoplaying=!1,o.c.trigger("revolution.slide.onvideoplay",f(s,"youtube",d.data())),T.toggleState(n.videotoggledby)):(0==e.data&&l&&(-1!=(t=V(d.data("videostartat")))&&s.seekTo(t),s.playVideo(),T.toggleState(n.videotoggledby)),i||0!=e.data&&2!=e.data||!("on"==d.data("showcoveronpause")&&0<d.find(".tp-videoposter").length||1===d.data("bgvideo")&&0<d.find(".rs-fullvideo-cover").length)||(1===d.data("bgvideo")?punchgs.TweenLite.to(d.find(".rs-fullvideo-cover"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(d.find(".tp-videoposter"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(d.find("iframe"),.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),-1!=e.data&&3!=e.data&&(o.videoplaying=!1,o.tonpause=!1,S(d,o),a.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",f(s,"youtube",d.data())),null!=o.currentLayerVideoIsPlaying&&o.currentLayerVideoIsPlaying.attr("id")!=d.attr("id")||T.unToggleState(n.videotoggledby)),0==e.data&&1==d.data("nextslideatend")?(w(),d.data("nextslideatend-triggered",1),o.c.revnext(),S(d,o)):(S(d,o),o.videoplaying=!1,a.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",f(s,"youtube",d.data())),null!=o.currentLayerVideoIsPlaying&&o.currentLayerVideoIsPlaying.attr("id")!=d.attr("id")||T.unToggleState(n.videotoggledby)))},onReady:function(e){var t,a=T.is_mobile(),i=d.hasClass("tp-videolayer"),o=((a||T.isSafari11())&&(o=i&&"off"!==d.data("autoplay"),!d.hasClass("rs-background-video-layer")&&!o||a&&i||(t=!0,s.setVolume(0),d.data("volume","mute"),s.mute(),clearTimeout(d.data("mobilevideotimr")),d.data("mobilevideotimr",setTimeout(function(){s.playVideo()},500)))),t||"mute"!=d.data("volume")||(s.setVolume(0),s.mute()),n.videorate);d.data("videostart");d.addClass("rs-apiready"),null!=o&&e.target.setPlaybackRate(parseFloat(o)),d.find(".tp-videoposter").unbind("click"),d.find(".tp-videoposter").click(function(){k||s.playVideo()}),d.data("startvideonow")&&(n.player.playVideo(),-1!=(a=V(d.data("videostartat"))))&&n.player.seekTo(a),d.data("videolistenerexist",1)}}});d.data("player",s);break;case"vimeo":for(var i,u={},p=v=t.attr("src"),c=/([^&=]+)=([^&]*)/g;i=c.exec(p);)u[decodeURIComponent(i[1])]=decodeURIComponent(i[2]);var v=(v=null!=u.player_id?v.replace(u.player_id,a):v+"&player_id="+a).replace(/&api=0|&api=1/g,""),m=T.is_mobile(),g=d.data("autoplay"),m=(d.data("volume"),m||T.isSafari11()),s=(d.hasClass("rs-background-video-layer"),("on"===g||"true"===g||!0===g)&&m&&(v+="?autoplay=1&autopause=0&muted=1&background=1&playsinline=1",d.data({vimeoplaysinline:!0,volume:"mute"})),t.attr("src",v),d.find("iframe")[0]);jQuery("#"+a);d.data("vimeoplayer")?y=d.data("vimeoplayer"):(y=new Vimeo.Player(a),d.data("vimeoplayer",y)),y.on("loaded",function(e){var t={};y.getVideoWidth().then(function(e){t.width=e,void 0!==t.width&&void 0!==t.height&&(d.data("aspectratio",t.width+":"+t.height),d.data("vimeoplayerloaded",!0),b(o,d))}),y.getVideoHeight().then(function(e){t.height=e,void 0!==t.width&&void 0!==t.height&&(d.data("aspectratio",t.width+":"+t.height),d.data("vimeoplayerloaded",!0),b(o,d))})}),d.addClass("rs-apiready"),y.on("play",function(e){d.data("nextslidecalled",0),punchgs.TweenLite.to(d.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(d.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),o.c.trigger("revolution.slide.onvideoplay",f(y,"vimeo",d.data())),o.videoplaying=!0,_(d,o),r?o.c.trigger("stoptimer"):o.videoplaying=!1,d.data("vimeoplaysinline")||("mute"==d.data("volume")||T.lastToggleState(d.data("videomutetoggledby"))||!0===o.globalmute?y.setVolume(0):y.setVolume(parseInt(d.data("volume"),0)/100||.75),T.toggleState(n.videotoggledby))}),y.on("timeupdate",function(e){var t=V(d.data("videoendat"));d.data("currenttime",e.seconds),0!=t&&Math.abs(t-e.seconds)<1&&t>e.seconds&&1!=d.data("nextslidecalled")&&(l?(y.play(),-1!=(t=V(d.data("videostartat")))&&y.setCurrentTime(t)):(1==d.data("nextslideatend")&&(d.data("nextslideatend-triggered",1),d.data("nextslidecalled",1),o.c.revnext()),y.pause()))}),y.on("ended",function(e){S(d,o),o.videoplaying=!1,o.c.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",f(y,"vimeo",d.data())),1==d.data("nextslideatend")&&(d.data("nextslideatend-triggered",1),o.c.revnext()),null!=o.currentLayerVideoIsPlaying&&o.currentLayerVideoIsPlaying.attr("id")!=d.attr("id")||T.unToggleState(n.videotoggledby)}),y.on("pause",function(e){("on"==d.data("showcoveronpause")&&0<d.find(".tp-videoposter").length||1===d.data("bgvideo")&&0<d.find(".rs-fullvideo-cover").length)&&(1===d.data("bgvideo")?punchgs.TweenLite.to(d.find(".rs-fullvideo-cover"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(d.find(".tp-videoposter"),.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(d.find("iframe"),.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),o.videoplaying=!1,o.tonpause=!1,S(d,o),o.c.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",f(y,"vimeo",d.data())),null!=o.currentLayerVideoIsPlaying&&o.currentLayerVideoIsPlaying.attr("id")!=d.attr("id")||T.unToggleState(n.videotoggledby)}),d.find(".tp-videoposter").unbind("click"),d.find(".tp-videoposter").click(function(){if(!k)return y.play(),!1}),d.data("startvideonow")&&(y.play(),-1!=(h=V(d.data("videostartat"))))&&y.setCurrentTime(h),d.data("videolistenerexist",1)}else{var y,h=V(d.data("videostartat"));switch(n.videotype){case"youtube":e&&(n.player.playVideo(),-1!=h)&&n.player.seekTo();break;case"vimeo":e&&((y=d.data("vimeoplayer")).play(),-1!=h)&&y.seekTo(h)}}},w=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},P=function(){try{var e;return void 0!==window.fullScreen?window.fullScreen:(e=5,jQuery.browser.webkit&&/Apple Computer/.test(navigator.vendor)&&(e=42),screen.width==window.innerWidth&&Math.abs(screen.height-window.innerHeight)<e)}catch(e){}},I=function(i,o,e){if(k&&1==i.data("disablevideoonmobile"))return!1;var a=i.data(),t="html5"==a.audio?"audio":"video",d=i.find(t),n=d[0],r=d.parent(),l="loopandnoslidestop"!=(s=a.videoloop),s="loop"==s||"loopandnoslidestop"==s,d=(r.data("metaloaded",1),1!=i.data("bgvideo")||"none"!==a.videoloop&&!1!==a.videoloop||(l=!1),null==d.attr("control")&&(0!=i.find(".tp-video-play-button").length||k||i.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>'),i.find("video, .tp-poster, .tp-video-play-button").click(function(){i.hasClass("videoisplaying")?n.pause():n.play()})),1!=i.data("forcecover")&&!i.hasClass("fullscreenvideo")&&1!=i.data("bgvideo")||(1==i.data("forcecover")||1==i.data("bgvideo")?(r.addClass("fullcoveredvideo"),void 0!==(d=i.data("aspectratio"))&&1!=d.split(":").length||i.data("aspectratio","16:9"),T.prepareCoveredVideo(o,i)):r.addClass("fullscreenvideo")),i.find(".tp-vid-play-pause")[0]),u=i.find(".tp-vid-mute")[0],r=i.find(".tp-vid-full-screen")[0],p=i.find(".tp-seek-bar")[0],c=i.find(".tp-volume-bar")[0];null!=d&&L(d,"click",function(){1==n.paused?n.play():n.pause()}),null!=u&&L(u,"click",function(){0==n.muted?(n.muted=!0,u.innerHTML="Unmute"):(n.muted=!1,u.innerHTML="Mute")}),null!=r&&r&&L(r,"click",function(){n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen()}),null!=p&&(L(p,"change",function(){var e=n.duration*(p.value/100);n.currentTime=e}),L(p,"mousedown",function(){i.addClass("seekbardragged"),n.pause()}),L(p,"mouseup",function(){i.removeClass("seekbardragged"),n.play()})),L(n,"canplaythrough",function(){T.preLoadAudioDone(i,o,"canplaythrough")}),L(n,"canplay",function(){T.preLoadAudioDone(i,o,"canplay")}),L(n,"progress",function(){T.preLoadAudioDone(i,o,"progress")}),L(n,"timeupdate",function(){var e=100/n.duration*n.currentTime,t=V(i.data("videoendat")),a=n.currentTime;null!=p&&(p.value=e),0!=t&&-1!=t&&Math.abs(t-a)<=.3&&a<t&&1!=i.data("nextslidecalled")&&(s?(n.play(),-1!=(e=V(i.data("videostartat")))&&(n.currentTime=e)):(1==i.data("nextslideatend")&&(i.data("nextslideatend-triggered",1),i.data("nextslidecalled",1),o.just_called_nextslide_at_htmltimer=!0,o.c.revnext(),setTimeout(function(){o.just_called_nextslide_at_htmltimer=!1},1e3)),n.pause()))}),null!=c&&L(c,"change",function(){n.volume=c.value}),L(n,"play",function(){i.data("nextslidecalled",0);var e=null!=(e=i.data("volume"))&&"mute"!=e?parseFloat(e)/100:e,e=(T.is_mobile()||T.isSafari11()||(!0===o.globalmute?n.muted=!0:n.muted=!1,1<e&&(e/=100),"mute"==e?n.muted=!0:null!=e&&(n.volume=e)),i.addClass("videoisplaying"),"html5"==a.audio?"audio":"video"),e=(_(i,o),l&&"audio"!=e?(o.videoplaying=!0,o.c.trigger("stoptimer"),o.c.trigger("revolution.slide.onvideoplay",f(n,"html5",a))):(o.videoplaying=!1,"audio"!=e&&o.c.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",f(n,"html5",a))),punchgs.TweenLite.to(i.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(i.find(e),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),i.find(".tp-vid-play-pause")[0]),t=i.find(".tp-vid-mute")[0];null!=e&&(e.innerHTML="Pause"),null!=t&&n.muted&&(t.innerHTML="Unmute"),T.toggleState(a.videotoggledby)}),L(n,"pause",function(e){var t="html5"==a.audio?"audio":"video",t=(!P()&&0<i.find(".tp-videoposter").length&&"on"==i.data("showcoveronpause")&&!i.hasClass("seekbardragged")&&(punchgs.TweenLite.to(i.find(".tp-videoposter"),.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(i.find(t),.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),i.removeClass("videoisplaying"),o.videoplaying=!1,S(i,o),"audio"!=t&&o.c.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",f(n,"html5",i.data())),i.find(".tp-vid-play-pause")[0]);null!=t&&(t.innerHTML="Play"),null!=o.currentLayerVideoIsPlaying&&o.currentLayerVideoIsPlaying.attr("id")!=i.attr("id")||T.unToggleState(a.videotoggledby)}),L(n,"ended",function(){w(),S(i,o),o.videoplaying=!1,S(i,o),"audio"!=t&&o.c.trigger("starttimer"),o.c.trigger("revolution.slide.onvideostop",f(n,"html5",i.data())),!0===i.data("nextslideatend")&&0<n.currentTime&&(1==!o.just_called_nextslide_at_htmltimer&&(i.data("nextslideatend-triggered",1),o.c.revnext(),o.just_called_nextslide_at_htmltimer=!0),setTimeout(function(){o.just_called_nextslide_at_htmltimer=!1},1500)),i.removeClass("videoisplaying")})},_=function(e,a){null==a.playingvideos&&(a.playingvideos=new Array),e.data("stopallvideos")&&null!=a.playingvideos&&0<a.playingvideos.length&&(a.lastplayedvideos=jQuery.extend(!0,[],a.playingvideos),jQuery.each(a.playingvideos,function(e,t){T.stopVideo(t,a)})),a.playingvideos.push(e),a.currentLayerVideoIsPlaying=e},S=function(e,t){null!=t.playingvideos&&0<=jQuery.inArray(e,t.playingvideos)&&t.playingvideos.splice(jQuery.inArray(e,t.playingvideos),1)}}(jQuery);