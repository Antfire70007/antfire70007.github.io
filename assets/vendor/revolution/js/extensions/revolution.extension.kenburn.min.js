!function(){var m=jQuery.fn.revolution,v={alias:"KenBurns Min JS",name:"revolution.extensions.kenburn.min.js",min_core:"5.4",version:"1.3.1"};jQuery.extend(!0,m,{stopKenBurn:function(t){if("stop"===m.compare_version(v).check)return!1;null!=t.data("kbtl")&&t.data("kbtl").pause()},startKenBurn:function(t,e,a){if("stop"===m.compare_version(v).check)return!1;var r,n,s,i,o,d,l,h,p,u,b=t.data(),c=t.find(".defaultimg"),g=c.data("lazyload")||c.data("src"),f=(b.owidth,b.oheight,"carousel"===e.sliderType?e.carousel.slide_width:e.ul.width()),e=e.ul.height(),c=(t.data("kbtl")&&t.data("kbtl").kill(),a=a||0,0==t.find(".tp-kbimg").length&&(c=c.data("mediafilter"),t.append('<div class="tp-kbimg-wrap '+(c=void 0===c?"":c)+'" style="z-index:2;width:100%;height:100%;top:0px;left:0px;position:absolute;"><img class="tp-kbimg" src="'+g+'" style="position:absolute;" width="'+b.owidth+'" height="'+b.oheight+'"></div>'),t.data("kenburn",t.find(".tp-kbimg"))),function(t,e,a,r,n,s,i){t*=a,e*=a,a=Math.abs(r-t),r=Math.abs(n-e),n=new Object;return n.l=(0-s)*a,n.r=n.l+t,n.t=(0-i)*r,n.b=n.t+e,n.h=s,n.v=i,n}),g=(null!=t.data("kbtl")&&(t.data("kbtl").kill(),t.removeData("kbtl")),t.data("kenburn")),w=g.parent(),c=(f=f,e=e,u=(r=b).scalestart/100,k=r.scaleend/100,s=null!=r.offsetstart&&r.offsetstart.split(" ")||[0,0],i=null!=r.offsetend&&r.offsetend.split(" ")||[0,0],r.bgposition="center center"==r.bgposition?"50% 50%":r.bgposition,o=new Object,r.owidth,r.oheight,r.owidth,r.oheight,o.start=new Object,o.starto=new Object,o.end=new Object,o.endo=new Object,o.start.width=f,o.start.height=o.start.width/r.owidth*r.oheight,o.start.height<e&&(n=e/o.start.height,o.start.height=e,o.start.width=o.start.width*n),o.start.transformOrigin=r.bgposition,o.start.scale=u,o.end.scale=k,r.rotatestart=0===r.rotatestart?.01:r.rotatestart,o.start.rotation=r.rotatestart+"deg",o.end.rotation=r.rotateend+"deg",n=f,u=e,k=o,l=(l=r).bgposition.split(" ")||"center center",d="center"==l[0]?"50%":"left"==l[0]||"left"==l[1]?"0%":"right"==l[0]||"right"==l[1]?"100%":l[0],l="center"==l[1]?"50%":"top"==l[0]||"top"==l[1]?"0%":"bottom"==l[0]||"bottom"==l[1]?"100%":l[1],d=parseInt(d,0)/100||0,l=parseInt(l,0)/100||0,(h=new Object).start=c(k.start.width,k.start.height,k.start.scale,n,u,d,l),h.end=c(k.start.width,k.start.height,k.end.scale,n,u,d,l),k=h,s[0]=parseFloat(s[0])+k.start.l,i[0]=parseFloat(i[0])+k.end.l,s[1]=parseFloat(s[1])+k.start.t,i[1]=parseFloat(i[1])+k.end.t,u=k.start.r-k.start.l,d=k.start.b-k.start.t,l=k.end.r-k.end.l,h=k.end.b-k.end.t,s[0]=0<s[0]?0:u+s[0]<f?f-u:s[0],i[0]=0<i[0]?0:l+i[0]<f?f-l:i[0],s[1]=0<s[1]?0:d+s[1]<e?e-d:s[1],i[1]=0<i[1]?0:h+i[1]<e?e-h:i[1],o.starto.x=s[0]+"px",o.starto.y=s[1]+"px",o.endo.x=i[0]+"px",o.endo.y=i[1]+"px",o.end.ease=o.endo.ease=r.ease,o.end.force3D=o.endo.force3D=!0,o),k=new punchgs.TimelineLite;k.pause(),c.start.transformOrigin="0% 0%",c.starto.transformOrigin="0% 0%",k.add(punchgs.TweenLite.fromTo(g,b.duration/1e3,c.start,c.end),0),k.add(punchgs.TweenLite.fromTo(w,b.duration/1e3,c.starto,c.endo),0),void 0===b.blurstart||void 0===b.blurend||0===b.blurstart&&0===b.blurend||(p={a:b.blurstart},u={a:b.blurend,ease:c.endo.ease},(f=new punchgs.TweenLite(p,b.duration/1e3,u)).eventCallback("onUpdate",function(t){punchgs.TweenLite.set(t,{filter:"blur("+p.a+"px)",webkitFilter:"blur("+p.a+"px)"})},[w]),k.add(f,0)),k.progress(a),k.play(),t.data("kbtl",k)}})}(jQuery);